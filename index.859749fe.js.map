{"mappings":"YAEA,IAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,iBAC/BC,QAASF,SAASC,cAAc,aAChCE,OAAQH,SAASC,cAAc,WAC/BG,MAAOJ,SAASC,cAAc,WAGhCH,EAAKK,OAAOE,MAAMC,QAAU,QAC5BR,EAAKM,MAAMC,MAAMC,QAAU,OAC3BR,EAAKC,OAAOM,MAAMC,QAAU,OCPnBC,MAAM,uCAAuCC,MAAK,SAAAC,GACvD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IDMjBL,MAAK,SAAAM,GACJ,IAAMC,EAASD,EACZE,KAAI,SAAAC,G,MAAK,kBAA2BC,OAATD,EAAEE,GAAG,MAAWD,OAAPD,EAAEG,KAAK,Y,IAC3CC,KAAK,IACRvB,EAAKC,OAAOuB,UAAYP,EACxBjB,EAAKK,OAAOE,MAAMC,QAAU,OAC5BR,EAAKC,OAAOM,MAAMC,QAAU,O,IAE7BiB,OAAM,SAAAnB,GACLN,EAAKM,MAAMC,MAAMC,QAAU,QAC3BkB,QAAQC,IAAIrB,E,IAGhBN,EAAKC,OAAO2B,iBAAiB,UAAU,SAAAC,GCfvC,IAAyBC,EDgBvB9B,EAAKM,MAAMC,MAAMC,QAAU,OAC3BR,EAAKI,QAAQoB,UAAY,GACzBxB,EAAKK,OAAOE,MAAMC,QAAU,SClBLsB,EDoBPD,EAAEE,OAAOC,MCnBlBvB,MACL,mEAAsFW,OAAnBU,EAAQ,aAAmBV,OAbhG,0EAcEV,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,KDcfL,MAAK,SAAAM,GACJ,GAAmB,IAAfA,EAAIiB,OACN,MAAM,IAAIpB,MAAMF,SAASG,QAE3Bd,EAAKI,QAAQoB,UAYnB,SAAsBR,GAapB,OAZeA,EACZE,KACC,SAAAC,G,MACE,gCAEcC,OAFkBD,EAAEe,IAAI,wFAGzBd,OADCD,EAAEgB,OAAO,GAAGb,KAAK,8BAEIF,OADtBD,EAAEgB,OAAO,GAAGC,YAAY,mDACsBhB,OAAxBD,EAAEgB,OAAO,GAAGE,YAAY,6D,IAI9Dd,KAAK,G,CAxBqBe,CAAatB,GACtChB,EAAKK,OAAOE,MAAMC,QAAU,M,IAE7BiB,OAAM,SAAAnB,GACLoB,QAAQC,IAAI,SACZ3B,EAAKI,QAAQoB,UAAY,GACzBxB,EAAKK,OAAOE,MAAMC,QAAU,OAC5BR,EAAKM,MAAMC,MAAMC,QAAU,QAC3BkB,QAAQC,IAAIrB,E","sources":["src/index.js","src/js/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\n\nrefs.loader.style.display = 'block';\nrefs.error.style.display = 'none';\nrefs.select.style.display = 'none';\n\nfetchBreeds()\n  .then(cat => {\n    const markup = cat\n      .map(c => `<option value=\"${c.id}\">${c.name}</option>`)\n      .join('');\n    refs.select.innerHTML = markup;\n    refs.loader.style.display = 'none';\n    refs.select.style.display = 'block';\n  })\n  .catch(error => {\n    refs.error.style.display = 'block';\n    console.log(error);\n  });\n\nrefs.select.addEventListener('change', e => {\n  refs.error.style.display = 'none';\n  refs.catInfo.innerHTML = '';\n  refs.loader.style.display = 'block';\n\n  fetchCatByBreed(e.target.value)\n    .then(cat => {\n      if (cat.length === 0) {\n        throw new Error(response.status);\n      }\n      refs.catInfo.innerHTML = createMarkup(cat);\n      refs.loader.style.display = 'none';\n    })\n    .catch(error => {\n      console.log('Error');\n      refs.catInfo.innerHTML = '';\n      refs.loader.style.display = 'none';\n      refs.error.style.display = 'block';\n      console.log(error);\n    });\n});\n\nfunction createMarkup(cat) {\n  const markup = cat\n    .map(\n      c =>\n        `   <img class=\"cat-img\" src=\"${c.url}\" width=\"340\"/>\n                <div class=\"cat-description\">\n                <h2>${c.breeds[0].name}</h2>\n                <p>${c.breeds[0].description}</p>\n                <p><h3>Temperament:</h3> ${c.breeds[0].temperament}</p>\n            </div>                        \n        `\n    )\n    .join('');\n  return markup;\n}\n","const API_key =\n  'live_Q4yXZqybCK8L5vuDhRAifSIcFSzZMu6WywD8hknJ7zQqQe6FIJwh3JHCb0k1ob63';\n\nfunction fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds').then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?li123mit=1&breed_ids=${breedId}&api_key=${API_key}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n"],"names":["$b8f9b7833fa37166$var$refs","select","document","querySelector","catInfo","loader","error","style","display","fetch","then","response","ok","Error","status","json","cat","markup","map","c","concat","id","name","join","innerHTML","catch","console","log","addEventListener","e","breedId","target","value","length","url","breeds","description","temperament","$b8f9b7833fa37166$var$createMarkup"],"version":3,"file":"index.859749fe.js.map"}